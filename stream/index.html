<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=shift_jis">
  <script type="text/javascript">
    var SlideList = []
    var SlideIndex = 0;
    var Title = "Slide";

    function init(){
      SlideList = document.getElementsByName("pages");
      changeSlide(0);
    }

    function changeSlide(index){
      if(0 > index || index >= SlideList.length) return;
      for(i = 0; i < SlideList.length ;i++) {
        if(i == index) {
          SlideList[i].style.display = "table-cell";
          document.title = Title + " - " + (i + 1) + "/" + SlideList.length;
        } else {
          SlideList[i].style.display = "none";
        }
      }
      SlideIndex = index;
    }

    document.onkeydown = function(e){
      if(e.keyCode == 39 || e.keyCode == 34) changeSlide(SlideIndex + 1);
      if(e.keyCode == 37 || e.keyCode == 33) changeSlide(SlideIndex - 1);
    }

    // -----

    function judgeMoveSlide(x){
      if(x > (window.innerWidth / 3 * 2)) changeSlide(SlideIndex + 1);
      if(x < (window.innerWidth / 3)) changeSlide(SlideIndex - 1);
    }

    document.ontouchend = function(e){
      judgeMoveSlide(e.changedTouches[0].pageX);
    }

  </script>
  <style>
    html, body {
      height: 98%;
      width: 99%; 
      overflow:hidden;
    }
    h1, h2, h3, ul, p {
      margin:0px; 
      padding:0px;
    }
    .slide {
      font-size:45pt;
      display:inline-table; 
      width:100%; 
      height:100%; 
    }
  </style>
<head>
<body onload="init()" style="height:100%">
  <div class="slide">

<div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>Arrowによるストリーム処理<br />（主にauto使用）</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>自己紹介</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:50%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p><br />アズなんとかさん<br />　職業C++er<br />　日曜Haskeller<br />　同人ＳＳ書き<br /><br />所属／関係サークル<br />・RedTailCat<br />・暗黒定数式(Vol2はお休み) </p></div></div></div><div class="block" style="height:100%;width:50%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p><br />@as_capabl (twitter)<br />https://github.com/as-capabl<br />https://hackage.haskell.org/user/HidenoriAzuma<br /></p></div></div></div><div style="clear:both"></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>発表内容</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><ul><li>1. 導入</li><li>2. Arrowの基礎</li><li>3. Autoを使ってみる</li><li>4. さらにArrowとストリームについて</li></ul></div></div></div></div><div name="pages" style=""><div class="block" style="height:33%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>1. 導入</h1></div></div></div><div class="block" style="height:66%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><img src="img/Yampa_signal_functions.png" style="height:90%"/></div></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>前提</h1></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>ストリームTransducerは<br />Category(圏)をなす</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>ストリームTransducerはCategory(圏)をなす</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>Transducer：<br />　pipes/conduit/machinesで<br />　SourceとかSinkとかPipeをひっくるめた物を<br />　便宜的にこう呼ぶ<br /><br />pipes etcはTransducerを直列につないで何かするもの<br />　　例. 入力 >>> フィルタ >>> 出力<br /><br />直列つなぎは射の合成<br />＝＞TransducerはCategory（圏）である！！！<br /></p></div></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>Categoryだと何ができるの？</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>Categoryだと何ができるの？</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:33%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>直列つなぎ。得意。</p></div></div></div><div class="block" style="height:100%;width:66%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><img src="img/n_ser.png" style="width:90%"/></div></div></div><div style="clear:both"></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>Categoryだと何ができるの？</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:33%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>並列つなぎ。<br />Categoryの枠外。<br /><br />fanout(machines)などで何とか。</p></div></div></div><div class="block" style="height:100%;width:66%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><img src="img/n_par.png" style="width:90%"/></div></div></div><div style="clear:both"></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>Categoryだと何ができるの？</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:33%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>？？？？？？</p></div></div></div><div class="block" style="height:100%;width:66%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><img src="img/n_cmp.png" style="width:90%"/></div></div></div><div style="clear:both"></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>……いやいや</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>こんなストリーム何に使うんですか</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><img src="img/n_cmp.png" style="width:90%"/></div></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>例えば……</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>出力先が複数</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><img src="img/p_mo.png" style=""/></div></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>エラーメッセージ出力</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><img src="img/p_er.png" style=""/></div></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>GUI</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><img src="img/p_gui.png" style=""/></div></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>ドラッグアンドドロップも付けよう</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><img src="img/p_dnd.png" style=""/></div></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>Categoryでは力不足</h1></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>なのでArrowを導入します</h1></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>その前に</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>補足1 Categoryについて</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:50%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>あまり知られていないが、Categoryクラス(baseパッケージ)が存在する<br /><br />pipes, conduit, machines: instance宣言はない (型シグネチャの関係で)<br />Arrow系(以降で紹介): 宣言している (Category a => Arrow aなので)<br /></p></div></div></div><div class="block" style="height:50%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;vertical-align:middle;display:table-cell;color:#000050;padding-left:8%;border-width:10;border-style:double;border-color:#000050;box-sizing:border-box;font-family:'Consolas','Liberation Mono','Menlo','Courier',monospace;white-space:pre"><p>class Category cat where<br />  id :: cat a a<br />  (.) :: cat a b -> cat b c -> cat a c<br /></p></div></div></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>補足2 pipesで並列グラフ</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:33%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>pipesのspawnで<br />一応可能。<br /><br />できる事はAkka streamやLINQ/Rxとほぼ同じ。<br /><br />スレッドとTVarのコストが掛かります。</p></div></div></div><div class="block" style="height:100%;width:66%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><img src="img/n_cmp.png" style="width:90%"/></div></div></div><div style="clear:both"></div></div></div><div name="pages" style=""><div class="block" style="height:33%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>2. Arrowの基礎</h1></div></div></div><div class="block" style="height:66%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><img src="img/Yampa_signal_functions.png" style="height:90%"/></div></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>Arrowを導入しよう</h1></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>Arrowとは？</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>Arrowとは？</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p> 原論文<br />"Generalising Monads to Arrows"<br />John Hughes, 1998<br /><br />http://www.cse.chalmers.se/~rjmh/Papers/arrows.pdf<br /></p></div></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>Arrowとは？</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:66%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><img src="img/h_hie.png" style="width:90%"/></div></div></div><div class="block" style="height:100%;width:33%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>CategoryとMonadの<br />間にある型クラス<br /><br /><br />注：MonadからArrow, Categoryを作るには<br />Kleisliを使用<br /></p></div></div></div><div style="clear:both"></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>Arrowとは？</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:33%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>Categoryのメンバ<br />・id<br />・(.), (<<<), (>>>)<br />Arrowのメンバ<br />・arr<br />・first<br />・second<br />・***<br />・&&&<br />ArrowLoopのメンバ<br />・loop<br />(オプション)<br /></p></div></div></div><div class="block" style="height:100%;width:66%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><img src="img/Yampa_signal_functions.png" style="width:90%"/></div></div></div><div style="clear:both"></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>……多い</h1></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>けれど、要点は2つだけ</h1></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>ひとつ目</h1></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>arr</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>arr</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:33%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>関数をアローに持ち上げる。<br /><br />ストリームの機能としてはよくある。<br /><br /><br />右図の見方：○は純関数、□はアロー(Transducer)</p></div></div></div><div class="block" style="height:100%;width:66%;float:left"><div class="block" style="height:50%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;vertical-align:middle;display:table-cell;color:#000050;padding-left:8%;border-width:10;border-style:double;border-color:#000050;box-sizing:border-box;font-family:'Consolas','Liberation Mono','Menlo','Courier',monospace;white-space:pre"><p><br /><span style="color: gray">class Arrow ar where</span><br />  arr :: (a->b) -> ar a b<br />  ...<br /></p></div></div></div><div class="block" style="height:50%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><img src="img/y_arr.png" style="height:90%"/></div></div></div></div><div style="clear:both"></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>ふたつ目</h1></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>first</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>first</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:33%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>アローの横に「迂回路を作る」イメージ。<br /><br />ストリームの機能としては、実を言うとかなり非自明。(後述)</p></div></div></div><div class="block" style="height:100%;width:66%;float:left"><div class="block" style="height:50%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;vertical-align:middle;display:table-cell;color:#000050;padding-left:8%;border-width:10;border-style:double;border-color:#000050;box-sizing:border-box;font-family:'Consolas','Liberation Mono','Menlo','Courier',monospace;white-space:pre"><p><br /><span style="color: gray">class Arrow ar where</span><br />  ...<br />  first :: ar a c -> ar (a, b) (c, b)<br />  ...<br /></p></div></div></div><div class="block" style="height:50%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><img src="img/y_first.png" style="height:90%"/></div></div></div></div><div style="clear:both"></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>arrとfirstがあれば</h1></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>あとは適宜</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>あとは適宜</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:50%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><img src="img/Yampa_signal_functions.png" style="width:90%"/></div></div></div><div class="block" style="height:100%;width:50%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;vertical-align:middle;display:table-cell;color:#000050;padding-left:8%;border-width:10;border-style:double;border-color:#000050;box-sizing:border-box;font-family:'Consolas','Liberation Mono','Menlo','Courier',monospace;white-space:pre"><p><br />second sf =<br />  arr swap >>><br />    first sf >>><br />      arr swap<br /><br />sf1 *** sf2 =<br />  first sf1 >>> second sf2<br /><br />sf1 &&& sf2 =<br />  arr (\x->(x,x)) >>><br />    (sf1 *** sf2)<br /></p></div></div></div><div style="clear:both"></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>これを踏まえ</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>←があれば→を作れる？</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:50%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><img src="img/Yampa_signal_functions.png" style="width:90%"/></div></div></div><div class="block" style="height:100%;width:50%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><img src="img/n_cmp.png" style="width:90%"/></div></div></div><div style="clear:both"></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>まあ無理ではない</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><img src="img/n_cmp_f.png" style="width:90%"/></div></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>が、</h1></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>正直つらそう</h1></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>そこで</h1></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>アロー記法</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>アロー記法</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:33%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;vertical-align:middle;display:table-cell;color:#000050;padding-left:8%;border-width:10;border-style:double;border-color:#000050;box-sizing:border-box;font-family:'Consolas','Liberation Mono','Menlo','Courier',monospace;white-space:pre"><p>proc (全体の入力) -><br /> do<br />   (出力先) <- (アロー) -< (入力元)<br /></p></div></div></div><div class="block" style="height:66%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>ghc拡張。{-# LANGUAGE Arrows #-}で使用可能に。<br /><br />パッと見た感じ……<br />　ラムダ式の\がprocになったようなもの<br />　の後ろに<br />　モナドのdo文に謎の-<記号が入ったようなもの<br /></p></div></div></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>アロー記法</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:33%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>例：普通の関数をアロー記法で定義<br />　a->bもArrowなのでこれが可能<br />　注：returnA == id == arr id</p></div></div></div><div class="block" style="height:66%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;vertical-align:middle;display:table-cell;color:#000050;padding-left:8%;border-width:10;border-style:double;border-color:#000050;box-sizing:border-box;font-family:'Consolas','Liberation Mono','Menlo','Courier',monospace;white-space:pre"><p><span style="color: gray">f :: Int -> Int</span><br />f = proc x -><br /> do<br />  y <- arr (*2) -< x<br />  returnA -< y<br /><span style="color: gray">-- f 1 => 2</span><br /></p></div></div></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>これを使えば……</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>これを使えば……</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:50%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><img src="img/n_cmp_a.png" style="width:90%"/></div></div></div><div class="block" style="height:100%;width:50%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;vertical-align:middle;display:table-cell;color:#000050;padding-left:8%;border-width:10;border-style:double;border-color:#000050;box-sizing:border-box;font-family:'Consolas','Liberation Mono','Menlo','Courier',monospace;white-space:pre"><p>proc input -><br /> do<br />  (a1, a2) <- a -< input<br />  (b1, b2) <- b -< a2<br />  rec<br />    d1 <- d -< (b1, e1)<br />    e1 <- e -< d1<br />  (c1, c2) <- c -< (d1, b1)<br />  f -< a1<br />  g1 <- g -< c2<br />  h -< g1<br />  i -< c1<br /></p></div></div></div><div style="clear:both"></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>有向グラフをそのまま書ける</h1></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>だが一方で</h1></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>モナドのdoにも似ている？</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>モナドのdoにも似ている？</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>実は(見た目を除けば)違いは一点しかない<br /><br />　Arrow記法は『-< の左側に一時変数を含められない』<br /><br />(手前のスライドでは省略しましたが、そういう制約があります)<br /></p></div></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>モナドのdoにも似ている？</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:33%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>ArrowApplyインスタンスがあると、<br />左に一時変数を入れる事も可能に<br />　＝＞もうArrow記法の意味ないですね！？</p></div></div></div><div class="block" style="height:66%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;vertical-align:middle;display:table-cell;color:#000050;padding-left:8%;border-width:10;border-style:double;border-color:#000050;box-sizing:border-box;font-family:'Consolas','Liberation Mono','Menlo','Courier',monospace;white-space:pre"><p>f x = proc _ -><br />  do<br />    r <- getLineA -< ()<br />    putStrLnA (x ++ r) -<< ()<br />-- getLineA, putStrLnAは架空の関数(でも簡単に定義可能)<br /></p></div></div></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>モナドで出来る事は<br />モナドに任せましょう</h1></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>では</h1></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>Arrowの使い道は？</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>Arrowの使い道は？</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><ul><li>パーサ</li><li>ストリーム処理</li><li>リアクティブプログラミング</li></ul></div></div></div></div><div name="pages" style=""><div class="block" style="height:33%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>3.Autoを使ってみる</h1></div></div></div><div class="block" style="height:66%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><img src="img/Yampa_signal_functions.png" style="height:90%"/></div></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>Arrowでストリーム処理をしよう</h1></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>……それで、</h1></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>どのライブラリを使おうか</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>どのライブラリを使おうか</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><ul><li>streamproc (Arrow原論文の例を実装したもの)</li><li>netwire ほかFRPライブラリ</li><li>machinecell (拙作)</li><li>auto</li></ul></div></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>autoを使おう</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>autoを使おう</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>streamproc<br />　　-- ちょっと問題がある(後述)<br /><br />netwire ほかFRPライブラリ<br />　　--　本来の用途の外=>いらない所、足りない所が<br /><br />machinecell (拙作)<br />　　-- ver3に向けて工事中<br /></p></div></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>autoとは</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>autoとは</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p><br />https://hackage.haskell.org/package/auto<br /><br />2015年3月リリース<br />netwireに"インスパイア"された<br />ストリーム特化のライブラリ<br /></p></div></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>いろいろ試してみる</h1></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>関数適用</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>関数適用</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:33%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>リストにarrを適用</p></div></div></div><div class="block" style="height:66%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;vertical-align:middle;display:table-cell;color:#000050;padding-left:8%;border-width:10;border-style:double;border-color:#000050;box-sizing:border-box;font-family:'Consolas','Liberation Mono','Menlo','Courier',monospace;white-space:pre"><p><br />ghci> streamAuto (arr (*2)) [1..10]<br /><span style="color: gray">[2,4,6,8,10,12,14,16,18,20]</span><br /></p></div></div></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>集積</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>集積</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:33%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>scanl (+) 0 [1..10]と同じ</p></div></div></div><div class="block" style="height:66%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;vertical-align:middle;display:table-cell;color:#000050;padding-left:8%;border-width:10;border-style:double;border-color:#000050;box-sizing:border-box;font-family:'Consolas','Liberation Mono','Menlo','Courier',monospace;white-space:pre"><p>ghci> streamAuto (accum (+) 0) [1..10]<br /><span style="color: gray">[1,3,6,10,15,21,28,36,45,55]</span><br /></p></div></div></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>集積</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:33%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>もちろん合成可能</p></div></div></div><div class="block" style="height:66%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;vertical-align:middle;display:table-cell;color:#000050;padding-left:8%;border-width:10;border-style:double;border-color:#000050;box-sizing:border-box;font-family:'Consolas','Liberation Mono','Menlo','Courier',monospace;white-space:pre"><p>ghci> streamAuto <span style="color: red">(arr (*2) >>> accum (+) 0)</span> [1..10]<br /><span style="color: gray">[2,6,12,20,30,42,56,72,90,110]</span><br /></p></div></div></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>集積</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:33%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>アロー記法でも</p></div></div></div><div class="block" style="height:66%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;vertical-align:middle;display:table-cell;color:#000050;padding-left:8%;border-width:10;border-style:double;border-color:#000050;box-sizing:border-box;font-family:'Consolas','Liberation Mono','Menlo','Courier',monospace;white-space:pre"><p>ghci> streamAuto<br />    <span style="color: red">(proc x -> do {y <- arr (*2)-< x; accum (+) 0 -< y})</span><br />    [1..10]<br /><span style="color: gray">[2,6,12,20,30,42,56,72,90,110]</span><br /></p></div></div></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>集積</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:33%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>これでもＯＫ</p></div></div></div><div class="block" style="height:66%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;vertical-align:middle;display:table-cell;color:#000050;padding-left:8%;border-width:10;border-style:double;border-color:#000050;box-sizing:border-box;font-family:'Consolas','Liberation Mono','Menlo','Courier',monospace;white-space:pre"><p>ghci> streamAuto<br />    <span style="color: red">(proc x -> do {accum (+) 0 -< x * 2})</span><br />    [1..10]<br /><span style="color: gray">[2,6,12,20,30,42,56,72,90,110]</span><br /></p></div></div></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>副作用</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>副作用</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:33%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>arrMで副作用<br />注：Arrowのメンバではなく、Auto独自の関数</p></div></div></div><div class="block" style="height:66%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;vertical-align:middle;display:table-cell;color:#000050;padding-left:8%;border-width:10;border-style:double;border-color:#000050;box-sizing:border-box;font-family:'Consolas','Liberation Mono','Menlo','Courier',monospace;white-space:pre"><p>ghci> streamAuto (arr show >>> arrM putStrLn) [1..10]<br />1<br />2<br />3<br />...<br /></p></div></div></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>副作用</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:33%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>入力に使う場合<br />＝＞空の値を変換する</p></div></div></div><div class="block" style="height:66%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;vertical-align:middle;display:table-cell;color:#000050;padding-left:8%;border-width:10;border-style:double;border-color:#000050;box-sizing:border-box;font-family:'Consolas','Liberation Mono','Menlo','Courier',monospace;white-space:pre"><p>ghci> streamAuto<br />    (arrM (\_ -> getLine) >>> arr reverse >>> arrM putStrLn)<br />    (replicate 5 ())<br />foo<br />oof<br />...<br /></p></div></div></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>副作用</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:33%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>シノニム： effect = arrM . const </p></div></div></div><div class="block" style="height:66%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;vertical-align:middle;display:table-cell;color:#000050;padding-left:8%;border-width:10;border-style:double;border-color:#000050;box-sizing:border-box;font-family:'Consolas','Liberation Mono','Menlo','Courier',monospace;white-space:pre"><p>ghci> streamAuto<br />    (<span style="color: red">effect getLine</span> >>> arr reverse >>> arrM putStrLn)<br />    (replicate 5 ())<br />foo<br />oof<br />...<br /></p></div></div></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>Blipストリーム</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>Blipストリーム</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>入出力は必ず 1-1 対応 -> filterとかできない<br /><br />ので、<span style="color: blue">Blip型</span>を導入<br /><br />・実装は単なるMaybe型<br />・1 - [0, 1]対応を実現,<br /></p></div></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>Blipストリーム</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:33%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>3の倍数の時だけ出力<br />　emitOn - 条件に合うときだけ値を持つBlipストリームを作る<br />　arrMB - Blipが値を持たない時は実行しないarrM</p></div></div></div><div class="block" style="height:66%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;vertical-align:middle;display:table-cell;color:#000050;padding-left:8%;border-width:10;border-style:double;border-color:#000050;box-sizing:border-box;font-family:'Consolas','Liberation Mono','Menlo','Courier',monospace;white-space:pre"><p>ghci> import Control.Auto.Effects<br />ghci> streamAuto<br />    (emitOn (\x -> x `mod` 3 == 0) >>> arrMB print)<br />    [1..10]<br />3<br />6<br />9<br /></p></div></div></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>FizzBuzzを書いてみる</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>FizzBuzzを書いてみる</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:50%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;vertical-align:middle;display:table-cell;font-size:40px;color:#000050;padding-left:8%;border-width:10;border-style:double;border-color:#000050;box-sizing:border-box;font-family:'Consolas','Liberation Mono','Menlo','Courier',monospace;white-space:pre"><p>fizzBuzz = proc x -><br /> do<br />   let nowFizz = x `mod` 3 == 0<br />       nowBuzz = x `mod` 5 == 0<br /><br />   fizzBuzz <- emitOn (==(True, True))<br />     -< (nowFizz, nowBuzz)<br />   fizz <- emitOn (==(True, False))<br />     -< (nowFizz, nowBuzz)<br />   buzz <- emitOn (==(False, True))<br />     -< (nowFizz, nowBuzz)<br />   showN <- emitOn (==(False, False))<br />     -< (nowFizz, nowBuzz)<br /><br />   effectB $ putStrLn "FizzBuzz"<br />      -< fizzBuzz<br />   effectB $ putStrLn "Fizz" -< fizz<br />   effectB $ putStrLn "Buzz" -< buzz<br />   arrMB putStrLn -< show x <$ showN<br /></p></div></div></div><div class="block" style="height:100%;width:50%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>4本の出力装置に振り分けるイメージ<br /><br /><br />注 (<$) = fmap . const<br />@Data.Functor FRP等でとてもよく出てくる<br /></p></div></div></div><div style="clear:both"></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>FizzBuzzを書いてみる</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:50%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;vertical-align:middle;display:table-cell;font-size:40px;color:#000050;padding-left:8%;border-width:10;border-style:double;border-color:#000050;box-sizing:border-box;font-family:'Consolas','Liberation Mono','Menlo','Courier',monospace;white-space:pre"><p>fizzBuzzCore = proc x -><br /> do<br />   let nowFizz = x `mod` 3 == 0<br />       nowBuzz = x `mod` 5 == 0<br />   fizzBuzz <- emitOn (==(True, True))<br />     -< (nowFizz, nowBuzz)<br />   ...<br /><br />   returnA -<<br />    (fizzBuzz, fizz, buzz, x <$ showN)<br /><br />main = streamAuto `flip` [0..100] $<br /> proc x -><br />  do<br />   (fizzBuzz, fizz, buzz, showNum) <-<br />      fizzBuzzCore -< x<br /><br />   effectB $ putStrLn "FizzBuzz" -< fizzBuzz<br />   effectB $ putStrLn "Fizz" -< fizz<br />   ...<br /></p></div></div></div><div class="block" style="height:100%;width:50%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>コード分割<br /><br />effectBの所を好きに変更可<br />(普通にやるとCallback hell)<br /><br />Signal/Slotにちょっと似てる？<br /></p></div></div></div><div style="clear:both"></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>Local state</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>Local state</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:33%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>グラフはループさせることができる<br />＝出力値を次の入力に使える<br />＝局所的な状態の実現</p></div></div></div><div class="block" style="height:66%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;vertical-align:middle;display:table-cell;color:#000050;padding-left:8%;border-width:10;border-style:double;border-color:#000050;box-sizing:border-box;font-family:'Consolas','Liberation Mono','Menlo','Courier',monospace;white-space:pre"><p>fib = proc _ -><br />  do<br />    rec x <- (delayN 2) 1 -< z<br />        y <- (delayN 1) 1 -< z<br />        let z = x + y<br />    id -< x<br />-- streamAuto fib [1..5] => [1, 1, 2, 3, 5]<br /></p></div></div></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>シリアライゼーション</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>シリアライゼーション</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;float:left"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;vertical-align:middle;display:table-cell;font-size:40px;color:#000050;padding-left:8%;border-width:10;border-style:double;border-color:#000050;box-sizing:border-box;font-family:'Consolas','Liberation Mono','Menlo','Courier',monospace;white-space:pre"><p>fib = proc _ -><br />  do<br />    rec x <- (delayN 2) 1 -< z<br />        y <- (delayN 1) 1 -< z<br />        let z = x + y<br />    id -< x<br />main =<br />  do<br />    Right fib0 <-<br />        readAutoDef "save.dat" fib<br /><br />    let (r, fib') = stepAutoN' 5 fib0 ()<br />    print r<br /><br />    writeAuto "save.dat" fib'<br /></p></div></div></div><div style="clear:both"></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>さらなる情報</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>https://hackage.haskell.org/package/auto<br />　(Readme, Haddockドキュメント)<br /><br />http://blog.jle.im/entries/series/+all-about-auto<br />　(ブログ記事)<br /></p></div></div></div></div><div name="pages" style=""><div class="block" style="height:33%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>4. さらにArrowとストリームについて</h1></div></div></div><div class="block" style="height:66%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><img src="img/Yampa_signal_functions.png" style="height:90%"/></div></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>ArrowはCategoryより高機能</h1></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>ならばautoは<br />pipes等より高機能か？</h1></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>...否</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>...否</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:33%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>autoは 1-[0, 1] 対応まで<br />　　　　　　pipes等は 1-*(一対多)</p></div></div></div><div class="block" style="height:66%;width:100%"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><img src="img/b_plural.png" style=""/></div></div></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>1-* って必須なの？</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>1-* って必須なの？</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>　.. <- await<br />　yield ..<br />　yield ..<br /><br />↑みたいなとき必然的に発生<br />＝＞コルーチンが実装可能であることの必要条件<br /></p></div></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>(Arrowで1-*対応)<br />すればいいのでは？</h1></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>……やってみると難しい</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>……やってみると難しい</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>例)<br />f :: Auto m () Int -- 1, 2を返す<br />g :: Auto m () Int -- 1, 2, 3を返す<br /><br />このとき f&&&g :: Auto m () (Int, Int)は……<br />　 (1, 1), (2, 2), (???, 3)<br /></p></div></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>……やってみると難しい</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>https://hackage.haskell.org/package/streamproc<br />streamproc(原論文の実装)<br />　勝手にコピーしたり切ったりする<br /><br /><br />https://groups.google.com/forum/#!topic/haskell-pipes/H6YdVhyNksk<br />pipesの試験実装<br />　組み合わせを出力 (1, 1), (1, 2), (1, 3), (2, 1), (2, 2), (2, 3)<br /><br /><br />どちらもアロー記法にしたとき非直感的な動きになる<br /></p></div></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>machinecellは……</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>machinecellは……</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p><br />https://hackage.haskell.org/package/machinecell<br /><br />拙作<br />元々はmachinesのArrow化を目指したライブラリ<br />途中でYampa/netwireを参考に<br />　＝＞autoとは従兄弟の関係<br /><br />autoとの違い<br />　In) await/yield<br />　Out) Serialization<br /></p></div></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>machinecellは……</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>個数問題の解決法：全部Event(autoでいうBlip)型にする。<br /><br /><span style="font-weight: bold">run :: ProcessA a (Event b) (Event c) -> a [b] [c]</span><br />全体の入力/出力がEvent<br /><br /><span style="font-weight: bold">construct :: Plan i o -> ProcessA a (Event i) (Event o)</span><br />Planモナド ＝ await/yieldを含むコルーチンモナド<br />　＝＞oをyieldするとEvent oが出てくるイメージ<br /></p></div></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>machinecellは……</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>先の例)<br />f :: ProcessA a (Event ()) (Event Int) -- 1, 2を返す<br />g :: ProcessA a (Event ()) (Event Int) -- 1, 2, 3を返す<br />f&&&g :: ProcessA a (Event ()) (Event Int, Event Int)<br />となるので<br /><br />いらない所にNoEvent(MaybeでいうNothing)を詰めれば解決<br />　(Event 1, Event 1), (Event 2, Event 2), (NoEvent, Event 3)<br /></p></div></div></div></div><div name="pages" style=""><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell;color:#000050;background:#c8c8ff;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><h1>まとめ</h1></div></div></div><div name="pages" style=""><div class="block" style="height:18%;width:100%;display:table;color:#000050;background:#6464ff;border-width:10;border-style:solid;border-color:#000050;box-sizing:border-box"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;text-align:center;vertical-align:middle;display:table-cell"><h2>まとめ</h2></div></div></div><div class="block" style="height:81%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table"><div class="block" style="height:100%;width:100%;display:table-cell;color:#000050;background:#c8c8ff;padding-top:3%;padding-left:8%;border-width:10;border-style:solid;border-color:#ffffff;box-sizing:border-box"><p>Arrowでストリーム処理がしたい<br /><br />-> Serializationが欲しい -> auto<br /><br />-> await/yieldが欲しい -> machinecell<br /><br />ご清聴ありがとうございました<br /></p></div></div></div></div>

  </div>
</body>
</html>
